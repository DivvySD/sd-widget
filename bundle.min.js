!function(){var e={763:function(){(this.A=this.A||[]).push([[0],{407:function(e,t,n){},409:function(e,t,n){},417:function(e,t){},458:function(e,t){},460:function(e,t){},484:function(e,t){},486:function(e,t){},498:function(e,t){},499:function(e,t){},522:function(e,t){},524:function(e,t){},526:function(e,t){},634:function(e,t){},723:function(e,t){},725:function(e,t){},732:function(e,t){},733:function(e,t){},759:function(e,t){},766:function(e,t){},820:function(e,t){},844:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(t=n.n(r),n(377)),i=(a=n.n(a),n(407),n(3)),c=n(15),s=n(0),o=n.n(s),u=(n(409),n(2));function p(e){var t=e.token,n=e.value;return e=e.changeValue,Object(u.jsxs)("div",{className:"sd-token-input",children:[Object(u.jsx)("div",{className:"sd-token-input-symbol",children:t?t.symbol:""}),Object(u.jsx)("input",{type:"text",onChange:e,value:n||"",placeholder:"0"})]})}var d=n(876),l=(s=n(383),n.n(s)),f=(s=n(394),n(875)),b=Object(s.a)({components:{MuiIconButton:{styleOverrides:{root:{background:"#0C1119",color:"#FFF",border:"2px solid #151D28",boxSizing:"border-box"}}}}});function m(e){return e=e.switchAction,Object(u.jsx)("div",{className:"sd-widget-swap-tokens-button",children:Object(u.jsx)(f.a,{theme:b,children:Object(u.jsx)(d.a,{onClick:e,children:Object(u.jsx)(l.a,{})})})})}var h=n(866),w=n(874),v=Object(s.a)({components:{MuiButton:{styleOverrides:{root:{background:"#212834",color:"#A7A9AE",borderRadius:10,padding:16,paddingTop:6,paddingBottom:6}}}}});function x(e){var t=e.disconnectWallet;return e=e.address,Object(u.jsx)(f.a,{theme:v,children:Object(u.jsxs)(w.a,{onClick:t,className:"sd-wallet-button",children:[Object(u.jsx)(h.a,{fontSize:"small"}),Object(u.jsx)("div",{style:{marginLeft:5},children:e?"0X..."+e.slice(e.length-5):""})]})})}function j(){return{formatNumberInput:function(e,t,n){var r=0;return e&&e.target&&e.target.value?("."!==(r=e.target.value)&&","!==r&&"0,"!==r||(r="0."),isNaN(r)?"":(r>parseFloat(t)&&(r=t),r=n&&r>parseFloat(n)?n:r)):""}}}var y=n(384),g=n.n(y),O=n(395),k=(y=document.getElementById("sd-widget")).dataset.chain,T=(y=y.dataset.infuraid,{1:"https://mainnet.infura.io/v3/".concat(y&&"1"===k?y:""),56:"https://bsc-dataseed.binance.org/"}),S=n(199),N=[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],M=[{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"}],name:"getSpotPrice",outputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],stateMutability:"view",type:"function"}],B=[{inputs:[{internalType:"uint256",name:"tokenBalanceIn",type:"uint256"},{internalType:"uint256",name:"tokenWeightIn",type:"uint256"},{internalType:"uint256",name:"tokenBalanceOut",type:"uint256"},{internalType:"uint256",name:"tokenWeightOut",type:"uint256"},{internalType:"uint256",name:"tokenAmountOut",type:"uint256"},{internalType:"uint256",name:"swapFee",type:"uint256"}],name:"calcInGivenOut",outputs:[{internalType:"uint256",name:"tokenAmountIn",type:"uint256"},{internalType:"uint256",name:"tokenInFee",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenBalanceIn",type:"uint256"},{internalType:"uint256",name:"tokenWeightIn",type:"uint256"},{internalType:"uint256",name:"tokenBalanceOut",type:"uint256"},{internalType:"uint256",name:"tokenWeightOut",type:"uint256"},{internalType:"uint256",name:"tokenAmountIn",type:"uint256"},{internalType:"uint256",name:"swapFee",type:"uint256"}],name:"calcOutGivenIn",outputs:[{internalType:"uint256",name:"tokenAmountOut",type:"uint256"},{internalType:"uint256",name:"tokenInFee",type:"uint256"}],stateMutability:"pure",type:"function"}],C=[{inputs:[{internalType:"uint256",name:"dot",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenAmountIn",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"SELL",outputs:[{internalType:"uint256",name:"tokenAmountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"dot",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"BUY",outputs:[{internalType:"uint256",name:"tokenAmountOut",type:"uint256"}],stateMutability:"payable",type:"function"}],A=[{inputs:[],name:"MAX_BUY_RATIO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SELL_RATIO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],I=n(71);function P(){function e(e){return e?Object(I.b)(e):0}function t(t){var n=e(t).toString();return n.includes(".")?(t=n.split("."))[0]||void 0:t}return{getZeroes:function(e){for(var t=0,n=0;n<e.length&&"0"===e.toString().charAt(n);n++)t++;return t},removeAllDecimals:t,multiply:function(e,t){return Object(I.b)(e)*Object(I.b)(t)},getNonZeroValueIfValidValue:function(e){return Object(I.b)(e)>Object(I.b)("0.00000001")?e:0},separateThousands:function(e){return Object(I.b)(e,{thousandsSeparator:","})},sliceNumberToDecimals:function(n,r){if(n)return n=e(n),r&&0<r?Object(I.b)(n,{precision:r,roundingMode:I.a.DOWN}):t(n)},castNumberToString:e}}var L=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"Main",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],D=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],E=[{inputs:[],name:"RPF",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"Backing",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tx1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tx2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],R=n(222),W=n(199);function F(){var e,t,n,r,a=new W(window.provider||""),c=P(),s=(r=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var s,u=("token"===t.type?t:n).address,p=(u=new a.eth.Contract(M,u),"token"===t.type?t.address:t.fBase),d="token"===n.type?n.address:n.fBase;u.methods.getSpotPrice(p,d).call().then((s=Object(i.a)(o.a.mark((function r(a){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a?(a=c.castNumberToString(R(a).div(Math.pow(10,18-parseInt(n.decimals)+parseInt(t.decimals)))),e(a)):e(0);case 1:case"end":return r.stop()}}),r)}))),function(e){return s.apply(this,arguments)}))})));case 1:case"end":return e.stop()}}),e)}))),n=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n)return e.abrupt("return",new Promise((function(e,r){t.address?new a.eth.Contract(N,t.address).methods.balanceOf(n).call().then((function(n){n?(n=new R(n).div(Math.pow(10,t.decimals)).toString(),e(n)):e(0)})):t.address||a.eth.getBalance(n).then((function(n){n?(n=new R(n).div(Math.pow(10,t.decimals)).toString(),e(n)):e(0)}))})));e.next=4;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)}))),t=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(r,i){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=("token"===t.type?t:n).address,c="token"===t.type?t.address:t.fBase,s=new a.eth.Contract(N,s),e.next=5,s.methods.getBalance(c).call().then((function(e){r(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)});function u(e){return new Promise((t=Object(i.a)(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:new a.eth.Contract(L,e).methods.symbol().call().then(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)}));var t}function p(e){return new Promise((t=Object(i.a)(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:new a.eth.Contract(L,e).methods.decimals().call().then(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)}));var t}return e=Object(i.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&r)return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(u,p){var d,l,f,b,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=("token"===t.type?t:n).address,d=new a.eth.Contract(B,d),e.next=4,s(t,n);case 4:return l=e.sent,e.next=7,s(n,t);case 7:if(f=e.sent,l&&f){e.next=10;break}return e.abrupt("return",!1);case 10:b=new W.utils.toBN(25*Math.pow(10,18)),m=c.castNumberToString(c.sliceNumberToDecimals(r,t.decimals)*Math.pow(10,t.decimals)),d.methods.calcOutGivenIn(l,b,f,b,new W.utils.toBN(m),"0").call().then(function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.decimals?Math.pow(10,n.decimals):1,r=t.tokenAmountOut/r,r=c.castNumberToString(r),u(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));e.next=2;break;case 2:case"end":return e.stop()}}),e)}))),{getBacking:function(e){return new Promise((function(t,n){var r;new a.eth.Contract(E,e.address).methods.Backing().call().then((r=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n?(1e3-parseInt(n))/10:0);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}))}))},getTx1:function(e){return new Promise((function(t,n){var r;new a.eth.Contract(E,e.address).methods.tx1().call().then((r=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n?100-parseInt(n):0);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}))}))},getTx2:function(e){return new Promise((function(t,n){var r;new a.eth.Contract(E,e.address).methods.tx2().call().then((r=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n?100-parseInt(n):0);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}))}))},getRpf:function(e){return new Promise((function(t,n){var r;new a.eth.Contract(E,e.address).methods.RPF().call().then((r=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n?(1e3-parseInt(n))/10:0);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}))}))},setAllowance:function(e,t,n,r){return new Promise((c=Object(i.a)(o.a.mark((function i(c,s){var u,p,d;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:u=new a.eth.Contract(D,e.address),p=("token"===e.type?e:t).address,d={from:n},u.methods.approve(p,new W.utils.toBN("1000000000000000000000000000000000000000000")).send(d).on("receipt",(function(e){c(!0),r()})).on("error",(function(e,t){c(!1)}));case 5:case"end":return i.stop()}}),i)}))),function(e,t){return c.apply(this,arguments)}));var c},getApproval:function(e,t,n){return new Promise((r=Object(i.a)(o.a.mark((function r(c,s){var u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.address){r.next=3;break}return c(!0),r.abrupt("return",!1);case 3:return u=("token"===e.type?e:t).address,new a.eth.Contract(D,e.address).methods.allowance(n,u).call().then(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("0"!==t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.abrupt("return");case 7:case"end":return r.stop()}}),r)}))),function(e,t){return r.apply(this,arguments)}));var r},buy:function(e,t,n,r,i,s,o){return new Promise((function(u,p){if(!(e&&t&&n&&r&&i&&s))return u(!1),!1;var d={},l=new a.eth.Contract(C,t.address),f=(d.from=s,R(r).times(1-parseInt(i)/100).times(Math.pow(10,t.decimals))),b=(f=c.removeAllDecimals(c.castNumberToString(f)),c.sliceNumberToDecimals(n,e.decimals),c.castNumberToString(n*Math.pow(10,e.decimals)));(e.address?l.methods.BUY("0",s,new W.utils.toBN(c.removeAllDecimals(b)),new W.utils.toBN(f)):(d.value=new W.utils.toBN(c.removeAllDecimals(b)),l.methods.BUY("0",s,new W.utils.toBN(f)))).send(d).once("transactionHash",(function(){})).once("receipt",(function(e){u(!0),o()})).on("error",(function(e){u(!0)})).then((function(e){}))}))},sell:function(e,t,n,r,i,s,o){return new Promise((function(u,p){if(!(e&&t&&n&&r&&i&&s))return u(!1),!1;var d={},l=new a.eth.Contract(C,e.address),f=(d.from=s,R(r).times(1-i/100).times(Math.pow(10,t.decimals))),b=(f=c.removeAllDecimals(c.castNumberToString(f)),c.sliceNumberToDecimals(n,e.decimals),c.castNumberToString(n*Math.pow(10,e.decimals)));l.methods.SELL("0",s,new W.utils.toBN(c.removeAllDecimals(b)),new W.utils.toBN(f)).send(d).once("transactionHash",(function(){})).once("receipt",(function(e){u(!0),o()})).on("error",(function(e){u(!0)})).then((function(e){}))}))},getTokenData:function(e,t){return new Promise((n=Object(i.a)(o.a.mark((function n(r,c){var s,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e)return s={},d={},n.next=5,u(e);n.next=26;break;case 5:return s.symbol=n.sent,n.next=8,p(e);case 8:s.decimals=n.sent,s.type="token",s.address=e,n.next=13;var c,l=e;return new Promise((c=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new a.eth.Contract(L,l).methods.Main().call().then(function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}));case 13:return d.fBase=n.sent,n.next=16,u(d.fBase);case 16:return d.fBaseSymbol=n.sent,d.symbol=d.fBaseSymbol.substring(1),n.next=20,p(d.fBase);case 20:d.decimals=n.sent,d.type="base",("BNB"===d.symbol&&"56"===t||"ETH"===d.symbol&&"1"===t)&&(d.address=""),r({1:s,2:d}),n.next=27;break;case 26:r(!1);case 27:case"end":return n.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n},getEstimateIn:function(e,t,n){return!(n<=0)&&new Promise((r=Object(i.a)(o.a.mark((function r(u,p){var d,l,f,b;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d=("token"===e.type?e:t).address,d=new a.eth.Contract(B,d),r.next=4,s(e,t);case 4:return l=r.sent,r.next=7,s(t,e);case 7:if(f=r.sent,l&&f){r.next=10;break}return r.abrupt("return",!1);case 10:b=n*Math.pow(10,t.decimals),b=c.castNumberToString(b),b=c.removeAllDecimals(b),d.methods.calcInGivenOut(l,"25",f,"25",new W.utils.toBN(b),"0").call().then(function(){var t=Object(i.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c.castNumberToString(n.tokenAmountIn/Math.pow(10,e.decimals)),u(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 15:case"end":return r.stop()}}),r)}))),function(e,t){return r.apply(this,arguments)}));var r},getEstimateOut:function(t,n,r){return e.apply(this,arguments)},getSpotPrice:function(e,t){return r.apply(this,arguments)},getBalanceByToken:function(e,t){return n.apply(this,arguments)},getMaxBuy:function(e,t){return new Promise((n=Object(i.a)(o.a.mark((function n(r,c){var u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=("token"===e.type?e:t).address,new a.eth.Contract(A,u).methods.MAX_BUY_RATIO().call().then(function(){var n=Object(i.a)(o.a.mark((function n(c){var p,d,l,f,b;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c)return p=new R(c).div(Math.pow(10,e.decimals)).toString(),n.next=4,s(e,t);n.next=15;break;case 4:return d=n.sent,n.next=7,s(t,e);case 7:if(l=n.sent,d&&l){n.next=10;break}return n.abrupt("return",!1);case 10:f=new a.eth.Contract(B,u),b=new W.utils.toBN(25*Math.pow(10,18)),f.methods.calcOutGivenIn(d,b,l,b,new W.utils.toBN(c),"0").call().then(function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({in:p,out:n.tokenAmountOut/Math.pow(10,t.decimals)*.98});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=16;break;case 15:r({in:0,out:0});case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n},getMaxSell:function(e,t){return new Promise((n=Object(i.a)(o.a.mark((function n(r,c){var u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=("token"===e.type?e:t).address,new a.eth.Contract(A,u).methods.MAX_SELL_RATIO().call().then(function(){var n=Object(i.a)(o.a.mark((function n(c){var p,d,l,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c)return p=R(c).div(Math.pow(10,e.decimals)).toString(),n.next=4,s(e,t);n.next=13;break;case 4:return d=n.sent,n.next=7,s(t,e);case 7:l=n.sent,f=new W.utils.toBN(25*Math.pow(10,18)),new a.eth.Contract(B,u).methods.calcOutGivenIn(d,f,l,f,new W.utils.toBN(c),"0").call().then(function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({in:p,out:R(n.tokenAmountOut).div(Math.pow(10,t.decimals)).times(.98).toString()});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=14;break;case 13:r({in:0,out:0});case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n}}}var z=n(868),_=n(869),U=n(870),V=Object(s.a)({components:{MuiIconButton:{styleOverrides:{root:{background:"#0C1119",color:"#87898D"}}}}});function Z(e){function t(e){"swap"===e?window.open("https://fegex.com/trade/".concat(n,"/").concat(r),"_blank"):"charts"===e&&window.open("https://charts.fegex.com/charts/".concat(r),"_blank")}var n=e.chain,r=e.tokenAddress,a=e.setTradeView,i=e.tradeView;return Object(u.jsxs)(f.a,{theme:V,children:[Object(u.jsx)(d.a,{style:{marginRight:12},onClick:function(){return a("trade"===i?"lend":"trade")},children:Object(u.jsx)(z.a,{})}),Object(u.jsx)(d.a,{style:{marginRight:12},onClick:function(){return t("swap")},children:Object(u.jsx)(_.a,{})}),Object(u.jsx)(d.a,{onClick:function(){return t("charts")},children:Object(u.jsx)(U.a,{})})]})}var X=Object(s.a)({components:{MuiButton:{styleOverrides:{root:{background:"#3C90F8",color:"#151D28",borderRadius:10,padding:16,paddingTop:6,paddingBottom:6}}}}});function H(e){var t=e.disabled,n=e.makeTx,r=e.title,a=e.wallet,i=e.connectWallet;return Object(u.jsxs)(f.a,{theme:X,children:[a&&Object(u.jsx)(w.a,{fullWidth:!0,onClick:n,children:r}),!a&&Object(u.jsx)(w.a,{disabled:t,fullWidth:!0,onClick:function(){return i()},children:t?r:"Connect Wallet"})]})}var G=n(871);function Y(e){var t=e.spotPrice,n=e.token1,r=e.token2,a=(e=e.showTokenomics,P());return Object(u.jsxs)("div",{className:"sd-widget-spot-price wrapper-paddings",onClick:e,children:[Object(u.jsxs)("div",{className:"sd-widget-spot-price-icon",children:[Object(u.jsx)("div",{children:"Spot price"}),Object(u.jsxs)("div",{children:[" ",Object(u.jsx)(G.a,{style:{fontSize:12}})]})]}),Object(u.jsx)("div",{children:t?function(){if(t){if(1<parseFloat(t))return a.sliceNumberToDecimals(t,2);var e=t.split(".");return e=a.getZeroes(e[1]),a.sliceNumberToDecimals(t,parseInt(e)+3)}return""}()+(n&&r?" "+r.symbol+" / "+n.symbol:""):""})]})}var q=n.p+"static/media/sdIcon.7a733daf.svg";function J(){return Object(u.jsx)("div",{className:"sd-widget-footer",children:Object(u.jsx)("div",{children:Object(u.jsx)("img",{style:{height:20},src:q})})})}var K=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"lendData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extendLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_loansToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amt",type:"uint256"}],name:"Loan",outputs:[{internalType:"uint256",name:"tokenAmountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"amountToRepay",outputs:[{internalType:"uint256",name:"finalamt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oneTokentoBacking",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"repayLoan",outputs:[],stateMutability:"payable",type:"function"}],Q=(k=n(138),n.n(k)),$=n(222),ee=n(199),te=Object(s.a)({components:{MuiButton:{styleOverrides:{root:{background:"#3C90F8",color:"#151D28",borderRadius:10,padding:16,paddingTop:6,paddingBottom:6}}}}});function ne(e){var t=e.makeLoan,n=e.wallet,r=e.connectWallet;return e=e.disabled,Object(u.jsx)("div",{className:"sd-widget-loan-buttons",children:Object(u.jsxs)(f.a,{theme:te,children:[!n&&Object(u.jsx)(w.a,{fullWidth:!0,onClick:r,children:"Connect Wallet"}),n&&Object(u.jsx)(w.a,{fullWidth:!0,disabled:e,onClick:t,children:"Lend"})]})})}var re=Object(s.a)({components:{MuiButton:{styleOverrides:{root:{background:"#3C90F8",color:"#151D28",borderRadius:10,padding:16,paddingTop:6,paddingBottom:6}}}}});function ae(e){var t=e.repayLoan;return e=e.extendLoan,Object(u.jsxs)("div",{className:"sd-widget-extend-repay-buttons",children:[Object(u.jsx)("div",{children:Object(u.jsx)(f.a,{theme:re,children:Object(u.jsx)(w.a,{fullWidth:!0,onClick:e,children:"EXTEND"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(f.a,{theme:re,children:Object(u.jsx)(w.a,{fullWidth:!0,onClick:t,children:"REPAY"})})})]})}var ie=n(222);function ce(e){var t,n,a,s,d,l,f,b,m,h=e.tokens,w=e.wallet,v=e.walletController,x=(f=P(),b=new ee(window.provider||""),l=Object(i.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(a,i){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&n&&t&&r){e.next=3;break}return a(!1),e.abrupt("return",!1);case 3:c=t.address,new b.eth.Contract(K,c).methods.amountToRepay(r).call().then((function(e){e=$(e).div(Math.pow(10,n.decimals)).toString(),a(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),m=function(e,t,n){return l.apply(this,arguments)},d=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(r,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&t&&n){e.next=3;break}return r(!1),e.abrupt("return",!1);case 3:i=t.address,new b.eth.Contract(K,i).methods.lendData(n).call().then((function(e){r(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),s=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&t&&n){e.next=3;break}return r(!1),e.abrupt("return",!1);case 3:new b.eth.Contract(K,t.address).methods._loansToken(n).call().then((function(e){r(f.castNumberToString(e/Math.pow(10,t.decimals)))}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),a=Object(i.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(a,i){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&t&&n&&r){e.next=3;break}return a(!1),e.abrupt("return",!1);case 3:c=t.address,c=new b.eth.Contract(K,c),s=f.castNumberToString(n*Math.pow(10,t.decimals)),s=f.removeAllDecimals(s),c.methods.Loan(s).send({from:r}).once("receipt",(function(e){a(!0)})).on("error",(function(e){a(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(r,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&t&&n){e.next=3;break}return r(!1),e.abrupt("return",!1);case 3:window.provider||r(!1),i=t.address,new b.eth.Contract(K,i).methods.extendLoan().send({from:n}).on("receipt",(function(e){r(!0)})).on("error",(function(e,t){r(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),t=Object(i.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(i.a)(o.a.mark((function e(a,i){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.provider&&n&&t&&r){e.next=3;break}return a(!1),e.abrupt("return",!1);case 3:return e.next=6,m(t,n,r);case 6:s=e.sent,c=new b.eth.Contract(K,t.address),s=new ee.utils.toBN(f.castNumberToString($(s).times(Math.pow(10,18)))),c.methods.repayLoan().send({from:r,value:s}).on("receipt",(function(e){a(!0)})).on("error",(function(e,t){a(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),{getAmountToRepay:m,getLoanDurationFromTimestamp:function(e){e=(e=e)?Q()(1e3*e):Q()();var t=Q.a.utc(),n=(e=Q.a.duration(e.diff(t)),(t=Math.floor(e.asDays()))?"".concat(t,"d "):""),r=e.hours(),a="".concat(r,"h "),i=e.minutes(),c="".concat(i,"m "),s=(e=e.seconds(),"".concat(e,"s"));return 0<=t&&0<=i&&0<=r&&0<=e?"~"+[n,a,c,s].join(""):"EXPIRED"},getLoanTokens:function(e,t){return s.apply(this,arguments)},makeLoan:function(e,t,n){return a.apply(this,arguments)},extendLoan:function(e,t){return n.apply(this,arguments)},getUserLoanTimestamp:function(e,t){return d.apply(this,arguments)},repayLoan:function(e,n,r){return t.apply(this,arguments)},getTokenBacking:function(e,t){return new Promise((function(n,r){if(!window.provider||!t||!e)return n(!1),!1;new b.eth.Contract(K,e.address).methods.oneTokentoBacking().call().then((function(e){n(f.castNumberToString($(e/Math.pow(10,t.decimals))))}))}))}}),y=j(),g=F(),O=P(),k=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),T=e[1],S=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),N=e[1],M=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),B=e[1],C=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),A=e[1],I=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),L=e[1],D=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),E=e[1],R=(e=Object(r.useState)(""),(e=Object(c.a)(e,2))[0]),W=e[1];Object(r.useEffect)((function(){h&&h[1]&&h[2]&&X()}),[]),Object(r.useEffect)((function(){k?Z():N("")}),[k]);var z,_,U,V,Z=function(){N(O.castNumberToString(ie(k).times(R)))},X=(V=Object(i.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getBalanceByToken(h[1],w);case 2:return t=e.sent,E(t||0),e.next=6,x.getTokenBacking(h[1],h[2]);case 6:return t=e.sent,W(t||""),e.next=10,x.getUserLoanTimestamp(h[1],w);case 10:if(n=e.sent,B(0<parseInt(n)?n:""),0<n)return e.next=15,x.getLoanTokens(h[1],w);e.next=21;break;case 15:return n=e.sent,L(n||""),e.next=19,x.getAmountToRepay(h[1],h[2],w);case 19:r=e.sent,A(0<r?r:"");case 21:case"end":return e.stop()}}),e)}))),function(){return V.apply(this,arguments)});return U=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.makeLoan(h[1],k,w);case 2:e.sent&&X();case 4:case"end":return e.stop()}}),e)}))),_=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.extendLoan(h[1],w);case 2:e.sent&&X();case 4:case"end":return e.stop()}}),e)}))),z=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.repayLoan(h[1],h[2],w);case 2:e.sent&&X();case 4:case"end":return e.stop()}}),e)}))),Object(u.jsxs)("div",{className:"sd-widget-bottom",children:[!M&&Object(u.jsxs)("div",{className:"sd-widget-swap-top",children:[Object(u.jsx)("div",{children:"SmartLend"}),Object(u.jsxs)("div",{children:["Available: ",O.sliceNumberToDecimals(D,4)," ",h&&h[1]?h[1].symbol:""]})]}),M&&Object(u.jsx)("div",{className:"sd-widget-loan-top",children:Object(u.jsxs)("div",{className:"sd-widget-loan-expiration",children:[Object(u.jsx)("div",{children:x.getLoanDurationFromTimestamp(M)}),Object(u.jsx)("div",{className:"sd-widget-loan-expiration-tag",children:"LOAN EXPIRATION"}),Object(u.jsx)("div",{})]})}),!M&&h&&Object(u.jsx)(p,{token:h[1],balance:D,changeValue:function(e){e=y.formatNumberInput(e,D,D),T(e)},value:k}),!M&&h&&Object(u.jsxs)("div",{className:"sd-widget-lend-backing",children:[Object(u.jsx)("div",{children:"Backing per token"}),Object(u.jsxs)("div",{children:[R&&(e=R.split("."),O.sliceNumberToDecimals(R,parseInt(O.getZeroes(e[1]))+3))," ",h[2].symbol]})]}),M&&Object(u.jsxs)("div",{className:"sd-widget-lend-loan-output",children:[Object(u.jsx)("div",{children:"Loan output"}),Object(u.jsx)("div",{children:S||0})]}),M&&h&&Object(u.jsxs)("div",{className:"sd-widget-loan-details",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Repay Amount"}),Object(u.jsxs)("div",{children:[C?(e=O.castNumberToString(C).split("."),O.sliceNumberToDecimals(C,parseInt(O.getZeroes(e[1]))+3)):0," ",h[2].symbol.substring(0)]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Collateral"}),Object(u.jsxs)("div",{children:[I," ",h[1].symbol]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Extension Fee"}),Object(u.jsxs)("div",{children:[I?(S=O.castNumberToString(ie(.001*I)).split("."),O.sliceNumberToDecimals(I,parseInt(O.getZeroes(S[1]))+3)):0," ",h[1].symbol]})]})]}),!M&&Object(u.jsx)(ne,{connectWallet:function(){v.connectWallet()},wallet:w,makeLoan:function(){return U.apply(this,arguments)},disabled:!k}),M&&Object(u.jsx)(ae,{extendLoan:function(){return _.apply(this,arguments)},repayLoan:function(){return z.apply(this,arguments)}})]})}function se(e){var t=e.tx1,n=e.backing;return e=e.rpf,Object(u.jsxs)("div",{className:"sd-widget-token-tax wrapper-paddings",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{title:"Asset backing",children:"Backing"}),Object(u.jsxs)("div",{children:[n,"%"]})]}),Object(u.jsxs)("div",{title:"Rising price floor",children:[Object(u.jsx)("div",{children:"RPF"}),Object(u.jsxs)("div",{children:[e,"%"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{title:"Holder rewards",children:"Reflections"}),Object(u.jsxs)("div",{children:[t,"%"]})]})]})}function oe(e){var t=e.backing,n=e.reflections,r=e.rpf;return e=e.hideTokenomics,Object(u.jsxs)("div",{className:"sd-widget-tokenomics",children:[Object(u.jsx)(se,{backing:t,rpf:r,tx1:n}),Object(u.jsx)(w.a,{onClick:e,children:"Back"})]})}var ue=document.getElementById("sd-widget");a.a.render(Object(u.jsx)(t.a.StrictMode,{children:Object(u.jsx)((function(){var e,t,n,a,s,d,l,f,b,h,w,v,y,k,N,M,B,C,A,I=j(),L=F(),D=P(),E=ue.dataset.token,R=ue.dataset.chain,W=ue.dataset.slippage,z=(e=R,_=Object(r.useState)(null),t=(_=Object(c.a)(_,2))[0],n=_[1],_=Object(r.useState)(null),a=(_=Object(c.a)(_,2))[0],s=_[1],_=Object(r.useState)(null),d=(_=Object(c.a)(_,2))[0],l=_[1],_=Object(r.useState)(!1),(_=Object(c.a)(_,2))[0],f=_[1],_=Object(r.useState)(null),b=(_=Object(c.a)(_,2))[0],h=_[1],_=Object(r.useState)(null),(_=Object(c.a)(_,2))[0],w=_[1],Object(r.useEffect)((function(){!function(){Pe.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){b&&f(!0)}),[b]),v=Object(i.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.provider=t,r=new S(t),e.next=4,r.eth.getAccounts();case 4:return(a=e.sent)&&a.length&&n(a[0]),B(t),e.t0=parseInt,e.next=10,r.eth.net.getId();case 10:e.t1=e.sent,a=(0,e.t0)(e.t1),s(a),l(t.bridge?"walletconnect":"injected");case 14:case"end":return e.stop()}}),e)}))),y=function(e){return v.apply(this,arguments)},M=Object(i.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.on("close",(function(){(window.provider||r||a||t)&&(C(),w(null))})),r.on("accountsChanged",function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.provider&&n(t[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.on("chainChanged",function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.provider&&(n=parseInt(t),s(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),B=function(e){return M.apply(this,arguments)},N=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new S(window.provider))&&t.currentProvider&&t.currentProvider.close)return e.next=4,t.currentProvider.close();e.next=4;break;case 4:return n(null),s(null),l(null),e.next=9,b.clearCachedProvider();case 9:window.provider=null;case 10:case"end":return e.stop()}}),e)}))),C=function(){return N.apply(this,arguments)},k=Object(i.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={walletconnect:{bridge:"https://bridge.walletconnect.org",display:{name:"WalletConnect",description:"Scan qrcode with your mobile wallet"},package:O.a,options:{bridge:"https://bridge.walletconnect.org",network:"1"===e?"mainnet":"binance",rpc:{1:T[1],56:T[56]},qrcode:!0}}},n=new g.a({disableInjectedProvider:!1,cacheProvider:!0,providerOptions:n}),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)}))),A=function(){return k.apply(this,arguments)},{disconnectWallet:function(){w(null),C()},getWallet:function(){return t},getProvider:function(){return d},getChain:function(){return a},connectWallet:function(){return Le.apply(this,arguments)}}),_=Object(r.useState)(!1),U=(_=Object(c.a)(_,2))[0],V=_[1],X=(_=Object(r.useState)("buy"),(_=Object(c.a)(_,2))[0]),G=_[1],q=(_=Object(r.useState)(null),(_=Object(c.a)(_,2))[0]),K=_[1],Q=(_=Object(r.useState)(null),(_=Object(c.a)(_,2))[0]),$=_[1],ee=(_=Object(r.useState)(null),(_=Object(c.a)(_,2))[0]),te=_[1],ne=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),re=_[1],ae=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),ie=_[1],se=(_=Object(r.useState)(0),(_=Object(c.a)(_,2))[0]),pe=_[1],de=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),le=_[1],fe=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),be=_[1],me=(_=Object(r.useState)(!1),(_=Object(c.a)(_,2))[0]),he=_[1],we=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),ve=_[1],xe=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),je=_[1],ye=(_=Object(r.useState)(""),(_=Object(c.a)(_,2))[0]),ge=_[1],Oe=(_=Object(r.useState)("trade"),(_=Object(c.a)(_,2))[0]),ke=_[1],Te=(_=Object(r.useState)(0),(_=Object(c.a)(_,2))[0]),Se=_[1],Ne=(_=Object(r.useState)(0),(_=Object(c.a)(_,2))[0]),Me=_[1],Be=(_=Object(r.useState)(0),(_=Object(c.a)(_,2))[0]),Ce=_[1],Ae=(_=Object(r.useState)(0),(_=Object(c.a)(_,2))[0]),Ie=_[1];function Pe(){return(Pe=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if((t=e.sent).providerController.cachedProvider)return e.next=6,t.connect();e.next=8;break;case 6:n=e.sent,y(n);case 8:h(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window&&window.provider&&d)){e.next=9;break}if("walletconnect"===d)return w({visible:!0,type:"walletconnect"}),e.abrupt("return",!1);e.next=6;break;case 6:if("injected"===d)return w({visible:!0,type:"injected"}),e.abrupt("return",!1);e.next=9;break;case 9:return e.next=11,b.connect();case 11:t=e.sent,y(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){re(""),ie("")}Object(r.useEffect)((function(){var e;window.provider?(e=z.getWallet(),pe(e||null),q||Ge()):pe(null)}),[z.getWallet(),window.provider]),Object(r.useEffect)((function(){Q&&ee&&X&&se&&(console.log(se),Xe())}),[Q&&ee&&X,Q&&ee&&se]),Object(r.useEffect)((function(){if("input"===ye){var e;if(ne)return e=setTimeout((function(){return Ye()}),500),function(){return clearTimeout(e)};ie("")}}),[ne]),Object(r.useEffect)((function(){if("output"===ye){var e;if(ae)return e=setTimeout((function(){return qe()}),500),function(){return clearTimeout(e)};re("")}}),[ae]),Object(r.useEffect)((function(){U&&be(W||parseFloat(Be)+parseFloat(Ae)+parseFloat(Te)+parseFloat(Ne)+2)}),[U]),Ze=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je(),Ke(),Qe(),He(),U){e.next=21;break}return e.next=7,L.getRpf(q[1]);case 7:return t=e.sent,Se(t),e.next=11,L.getTx1(q[1]);case 11:return t=e.sent,Ce(t),e.next=15,L.getTx2(q[1]);case 15:return n=e.sent,Ie(n),e.next=19,L.getBacking(q[1]);case 19:n=e.sent,Me(n);case 21:V(!0);case 22:case"end":return e.stop()}}),e)})));var Ee,Re,We,Fe,ze,_e,Ue,Ve,Ze,Xe=function(){return Ze.apply(this,arguments)},He=(Ve=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getApproval(Q,ee,se);case 2:t=e.sent,he(t);case 4:case"end":return e.stop()}}),e)}))),function(){return Ve.apply(this,arguments)}),Ge=(Ue=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getTokenData(E,R);case 2:(t=e.sent)[1]&&t[2]&&(K(t),te(t[1]),$(t[2]));case 4:case"end":return e.stop()}}),e)}))),function(){return Ue.apply(this,arguments)}),Ye=(_e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getEstimateOut(Q,ee,ne);case 2:t=e.sent,ie(t);case 4:case"end":return e.stop()}}),e)}))),function(){return _e.apply(this,arguments)}),qe=(ze=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getEstimateIn(Q,ee,ae);case 2:t=e.sent,re(t);case 4:case"end":return e.stop()}}),e)}))),function(){return ze.apply(this,arguments)}),Je=(Fe=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getBalanceByToken(Q,se);case 2:t=e.sent,le(t);case 4:case"end":return e.stop()}}),e)}))),function(){return Fe.apply(this,arguments)}),Ke=(We=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getSpotPrice(ee,Q);case 2:t=e.sent,ve(t);case 4:case"end":return e.stop()}}),e)}))),function(){return We.apply(this,arguments)}),Qe=(Re=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,"buy"===X)return e.next=4,L.getMaxBuy(Q,ee);e.next=7;break;case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,L.getMaxSell(Q,ee);case 9:t=e.sent;case 10:je(t);case 11:case"end":return e.stop()}}),e)}))),function(){return Re.apply(this,arguments)});return Ee=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=6;break}return e.next=3,L.setAllowance(Q,ee,se,Xe);case 3:return t=e.sent,he(t),e.abrupt("return",!1);case 6:if("buy"===X)return e.next=9,L.buy(Q,ee,ne,ae,fe,se,Xe);e.next=13;break;case 9:e.sent&&De(),e.next=18;break;case 13:if("sell"===X)return e.next=16,L.sell(Q,ee,ne,ae,fe,se,Xe);e.next=18;break;case 16:e.sent&&De();case 18:case"end":return e.stop()}}),e)}))),Object(u.jsxs)("div",{className:"sd-widget-wrapper sd-dark",children:[Object(u.jsxs)("div",{className:"sd-widget-main",children:[Object(u.jsxs)("div",{className:"sd-widget-toolbar",children:[Object(u.jsx)("div",{children:Object(u.jsx)(x,{disconnectWallet:z.disconnectWallet,address:se})}),Object(u.jsx)("div",{children:Object(u.jsx)(Z,{tradeView:Oe,setTradeView:ke,chain:"1"===R?"eth":"56"===R?"bsc":void 0,tokenAddress:E})})]}),"trade"===Oe&&Object(u.jsxs)("div",{className:"sd-widget-bottom",children:[Object(u.jsxs)("div",{className:"sd-widget-swap",children:[Object(u.jsxs)("div",{className:"sd-widget-swap-top wrapper-paddings",children:[Object(u.jsx)("div",{children:"Swap"}),Object(u.jsxs)("div",{children:["Available: ",D.sliceNumberToDecimals(de,4)," ",Q?Q.symbol:""]})]}),Object(u.jsxs)("div",{className:"sd-widget-input-group",children:[Object(u.jsx)(p,{token:Q,balance:de,changeValue:function(e){e=I.formatNumberInput(e,xe.in,de),ge("input"),re(e)},value:ne}),Object(u.jsx)(m,{switchAction:function(){G("buy"===X?"sell":"buy"),$(ee),te(Q),De()}}),Object(u.jsx)(p,{token:ee,changeValue:function(e){e=I.formatNumberInput(e,xe.out),ge("output"),ie(e)},value:ae})]})]}),Object(u.jsx)(Y,{spotPrice:we,token1:Q,token2:ee,showTokenomics:function(){ke("tokenomics")}}),Object(u.jsx)(H,{makeTx:function(){return Ee.apply(this,arguments)},title:me?"sell"===X?"Sell":"Buy":"Approve",wallet:se,connectWallet:function(){z.connectWallet()}})]}),"lend"===Oe&&Object(u.jsx)(ce,{tokens:q,wallet:se,walletController:z}),"tokenomics"===Oe&&Object(u.jsx)(oe,{rpf:Te,reflections:Be,backing:Ne,hideTokenomics:function(){ke("trade")}})]}),Object(u.jsx)(J,{})]})}),{})}),document.getElementById("sd-widget"))}},[[844,1,2]]])},225:function(e,t,n){"use strict";var r=n(81),a=(r=n.n(r),n(645));(n=n.n(a)()(r())).push([e.id,'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}.wrapper-paddings{padding:0 12px;box-sizing:border-box}.sd-widget-wrapper{width:400px;overflow:hidden}.sd-widget-main,.sd-widget-wrapper{border-radius:30px;position:relative}.sd-widget-main{background-color:#1a212c;box-sizing:border-box;z-index:2}.sd-widget-toolbar{padding:20px;justify-content:space-between}.sd-wallet-button.MuiButton-root,.sd-widget-toolbar{display:flex;align-items:center}.sd-widget-bottom{z-index:2;border-radius:30px;padding:20px;box-sizing:border-box;background-color:#151d28}.sd-widget-swap-top{display:flex;flex-direction:row;justify-content:space-between;align-items:center;color:#a7a9ae;padding-bottom:12px}.sd-widget-input-group{display:flex;flex-direction:column;align-items:center;justify-content:center}.sd-widget-swap-tokens-button{position:absolute;z-index:3}.sd-widget-input-group .sd-token-input:first-child{margin-bottom:4px}.sd-token-input{width:100%;background-color:#0c1119;color:#a7a9ae;border-radius:10px;padding:12px;position:relative;box-sizing:border-box}.sd-token-input-symbol{position:absolute;left:14px}.sd-token-input input{border:none;outline:none;background:#0c1119;color:#fff;text-align:right;width:100%}.sd-widget-token-input-amount-wrapper{display:flex;padding:16px 0;justify-content:center}.sd-widget-token-amount{display:flex;flex-direction:row;color:#c4c4c6}.sd-widget-token-amount>div{padding:5px 12px;background-color:#1d252f}.sd-widget-token-amount>div:first-child{border-top-left-radius:10px;border-bottom-left-radius:10px}.sd-widget-token-amount>div:last-child{border-top-right-radius:10px;border-bottom-right-radius:10px}.sd-widget-tokenomics{color:#fff}.sd-widget-spot-price{margin-top:5px;margin-bottom:24px;justify-content:flex-end;margin-top:12px;align-items:center;color:#a9aaac}.sd-widget-spot-price,.sd-widget-token-tax{display:flex;flex-direction:row;justify-content:space-between}.sd-widget-token-tax{position:relative;margin:12px 0 24px}.sd-widget-token-tax>div{display:flex;flex-direction:column}.sd-widget-footer{padding-top:42px;padding-bottom:12px;margin-top:-30px;background-color:#0f151f;z-index:1;display:flex;justify-content:center}.sd-widget-bottom{color:#a9aaac}.sd-widget-lend-backing,.sd-widget-lend-loan-output{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-top:12px}.sd-widget-lend-loan-output{margin-bottom:12px}.sd-widget-loan-buttons{margin-top:24px}.sd-widget-loan-expiration,.sd-widget-loan-top{display:flex;justify-content:center;align-items:center}.sd-widget-loan-top{flex-direction:row;color:#a7a9ae;padding-bottom:12px}.sd-widget-loan-expiration-tag{font-size:12px;padding:6px 12px;border-radius:10px;background-color:#0f151d;margin-left:12px}.sd-widget-loan-details{display:flex;flex-direction:column;border-radius:30px;padding:20px;box-sizing:border-box;position:relative;background-color:#1a212c}.sd-widget-loan-details>div{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.sd-widget-loan-details>div:not(:first-child){margin-top:12px}.sd-widget-extend-repay-buttons{display:flex;flex-direction:row;margin-top:24px}.sd-widget-extend-repay-buttons>div{width:100%}.sd-widget-extend-repay-buttons>div:last-child{margin-left:12px}.sd-widget-spot-price-icon,.sd-widget-spot-price-icon>div:last-child{display:flex;align-items:center}',""]),t.Z=n},645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(c[o]=!0)}for(var u=0;u<e.length;u++){var p=[].concat(e[u]);r&&c[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(0<p[5].length?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},81:function(e){"use strict";e.exports=function(e){return e[1]}},871:function(e,t,n){"use strict";var r=n(379),a=(r=n.n(r),n(795)),i=(a=n.n(a),n(569)),c=(i=n.n(i),n(565)),s=(c=n.n(c),n(216)),o=(s=n.n(s),n(589)),u=(o=n.n(o),n=n(225),{});u.styleTagTransform=o(),u.setAttributes=c(),u.insert=i().bind(null,"head"),u.domAPI=a(),u.insertStyleElement=s(),r()(n.Z,u),n.Z&&n.Z.locals&&n.Z.locals},379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],o=a[p=r.base?s[0]+r.base:s[0]]||0,u="".concat(p," ").concat(o),p=(a[p]=o+1,n(u));o={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]},-1!==p?(t[p].references++,t[p].updater(o)):(s=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer||n.update(e=t):n.remove()}}(o,r),r.byIndex=c,t.splice(c,0,{identifier:u,updater:s,references:1})),i.push(u)}return i}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var c=0;c<i.length;c++){var s=n(i[c]);t[s].references--}e=r(e,a);for(var o=0;o<i.length;o++){var u=n(i[o]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=e}}},569:function(e){"use strict";var t={};e.exports=function(e,n){if(!(e=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(n)}},216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){var r,a,i,c;r=t,a=e,i="",(n=n).supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {")),(c=void 0!==n.layer)&&(i+="@layer".concat(0<n.layer.length?" ".concat(n.layer):""," {")),i+=n.css,c&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}"),(c=n.sourceMap)&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),a.styleTagTransform(i,r,a.options)},remove:function(){var e;null!==(e=t).parentNode&&e.parentNode.removeChild(e)}}}},589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];return void 0!==a||(a=t[r]={id:r,exports:{}},e[r].call(a.exports,a,a.exports,n)),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(871),n(763)}();